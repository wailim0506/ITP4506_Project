<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Legend Motor Limited - Application</title>
  <script src="../../../src/js/common/jslib/jquery-1.11.1.js"></script>
  <link rel="stylesheet" href="../../../src/css/insurance/application.css">
  <script src="../../../src/js/insurance/darkMode.js"></script>
  <!-- Google Material Icons -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <script type="text/javascript" language="JavaScript">
    $(document).ready(function () {
      $(".chatBtn").click(function () {
        window.location.href = "onlineBot.html";
      });

      $("#nextBtn").click(function () {
        window.location.href = "applicationP4.html";
      });

      $("#previousBtn").click(function () {
        window.location.href = "applicationP2.html";
      });

      $("#AppP1").click(function () {
        window.location.href = "applicationP1.html";
      });

      $("#AppP2").click(function () {
        window.location.href = "applicationP1_1.html";
      });

      $("#AppP3").click(function () {
        window.location.href = "applicationP2.html";
      });

      $('.payment').on('click', function() {
        $('.payment').css('border', '2px solid #000');
        $(this).css('border', '5px solid green');
        $('#paymentDetail').empty();




        var paymentMethod = $(this).find('p').text();

        if (paymentMethod === 'Card' || paymentMethod === 'Apple Pay') {
          var paymentDetailForm = `
                <div class="paymentRow">
                    <label for="cardNumber">Card Number <input type="text" id="cardNumber" name="cardNumber" required></label>
                </div>
                <div class="paymentRow">
                    <label for="cardHolder">Card Holder: <input type="text" id="cardHolder" name="cardHolder" required></label>
                    <label for="expiryDate">Expiry Date <input type="date" id="expiryDate" name="expiryDate" required></label>
                </div>
                <div class="paymentRow">
                    <label for="cvv">CVV <input type="text" id="cvv" name="cvv" required></label>
                </div>
            `;

          $('#paymentDetail').append(paymentDetailForm);
        }else if(paymentMethod === 'Alipay' || paymentMethod === 'WeChatPay'){
          var paymentDetailForm = `
                <div class="paymentRow">
                    <p id="paymentMsg">The QRCode will generate after the application approved.</p>
                </div>
            `;
          $('#paymentDetail').append(paymentDetailForm);
        }
      });

    });
    function payOption(button) {
      const buttons = document.querySelectorAll('.payOption-Installments,.payOption-full');
      buttons.forEach(btn => btn.classList.remove('selected'));
      button.classList.add('selected');
      var isElectronic = $(button).hasClass('payOption-Installments');
      var additionalInfoDiv = $('#payOptions');
      additionalInfoDiv.empty(); // Clear previous content

      if (isElectronic) {
        var inputHtml = `<label>*Installments Options:
                    <select required>
                        <option value="">--Select an Option--</option>
                        <option value="4">4</option>
                        <option value="6">6</option>
                        <option value="12">12</option>
                    </select>
                </label>`;
        additionalInfoDiv.append(inputHtml);
      }
    }
  </script>
</head>
<body>
<!-- Chatbot button -->
<button class="chatBtn">
  <img src="../../../src/img/insurance/chatbotTransparent.png" alt="Chatbot">
</button>
<!-- Chatbot button -->
<!-- To top button -->
<button class="goTopBtn">
  <img src="../../../src/img/insurance/IMG_0007.png" alt="BackToTop">
</button>
<!--Nav Bar-->
<nav>
  <div id="nav_left">
    <a href="cusMainPage.html"><img src="../../../src/img/LMLogo.webp" /></a>
  </div>
  <div id="nav_center">
    <a href="cusPlan.html">Plans</a>
    <a href="estimate.html">Estimate</a>
    <a href="onlineBot.html">Online Bot</a>
    <a href="applicationP1.html">Application</a>
    <a href="cusProFile.html">ProFile</a>
  </div>
  <div id="nav_right">
    <a href="../../../index.html">Logout</a>
  </div>
</nav>
<!--Nav Bar-->



<!--Main Content-->
<section id="mainContent">
  <div class="container">
    <h1>Your LML car insurance application</h1>
  </div>

  <div class="container">
    <div id="progress">
      <p class="completed" id="AppP1">Basic Information</p>
      <span class="arrowCompleted">&#8680;</span>
      <p class="completed" id="AppP2">Policyholder Information</p>
      <span class="arrowCompleted">&#8680;</span>
      <p class="completed" id="AppP3">Plan Select</p>
      <span class="arrowCompleted">&#8680;</span>
      <p class="inProgress">Payment</p>
      <span class="arrowInProgress">&#8680;</span>
      <p class="waiting">Submit for Checking</p>
    </div>
  </div>

  <div class="container">
    <div id="form">
      <form  id="contactForm">
        <p class="formClass">4 - Payment</p>
        <hr>

        <p class="subTitle">4.1 - Select a Method</p>
        <p id="totalTitle">Base on the information you provided you need to pay: <b>16800 HKD</b></p>

        <div id="paymentMethod">
          <div class="payment">
            <p>Card</p>
            <img src="../../../src/img/insurance/IMG_0014.png" style="width: 35%">
          </div>
          <div class="payment">
            <p>Apple Pay</p>
            <img src="../../../src/img/insurance/IMG_0016.png" style="width: 65%">
          </div>
          <div class="payment">
            <p>Alipay</p>
            <img src="../../../src/img/insurance/IMG_0017.png" style="width: 30%">
          </div>
          <div class="payment">
            <p>WeChatPay</p>
            <img src="../../../src/img/insurance/IMG_0015.png" style="width: 40%">
          </div>
        </div>

        <div id="paymentDetail">

        </div>

        <hr>
        <p class="subTitle">5.2 - Payment Options</p>
        <div class="infoRow">
          <div>
            <div class="buttonDiv">
              <button type="button" class="payOption-full" onclick="payOption(this)">Pay in full</button>
              <button type="button" class="payOption-Installments" onclick="payOption(this)">In installments</button>
            </div>
          </div>
        </div>
        <div class="infoRow" id="payOptions"></div>

        <hr>

        <p class="subTitle">4.2 - Agreement</p>
        <div class="agreement">

          <div id="agreementContent">
            <p>By agreeing to these terms, you acknowledge that:</p>
            <ul>
              <li>You have read and understood the payment policy.</li>
              <li>You are aware of the payment details and deadlines.</li>
              <li>You agree to provide accurate information during the payment process.</li>
              <li>Any payment disputes must adhere to the policy guidelines.</li>
            </ul>
            <label for="agreementCheckbox">
              <input type="checkbox" id="agreementCheckbox">I agree to the terms and conditions.
            </label>
          </div>
        </div>



      </form>
    </div>
  </div>


  <div class="containerRow">
    <div id="previousBtnContainer">
      <button type="button" id="previousBtn">Previous</button>
      <div>
        <div id="nextBtnContainer">
          <button type="button" id="nextBtn">Next</button>
        </div>
      </div>


  </section>
<!--Main Content-->



<!--footer-->
<section class="footer">
  <div class="footer-content">
    <a href="cusMainPage.html"><img src="../../../src/img/LMLogo.webp" class="footer-logo"></a>
    <p>Reliable car insurance for peace of mind on every journey.</p>
    <p>Â© 2024 Legend Motor Limited</p>
  </div>
  <div class="footer-content">
    <a href="cusPlan.html"><h4>Plans</h4></a>
  </div>
  <div class="footer-content">
    <a href="estimate.html"><h4>Estimate</h4></a>
  </div>
  <div class="footer-content">
    <a href="onlineBot.html"><h4>OnlineBot</h4></a>
  </div>
  <div class="footer-content">
    <a href="applicationP1.html"><h4>Application</h4></a>
  </div>
  <div class="footer-content">
    <a href="cusProFile.html"><h4>ProFile</h4></a>
  </div>
</section>
<!--footer-->

<i id="darkModeToggle" class="material-icons"
   style="position:fixed; bottom: 10px; right: 10px; cursor: pointer;">wb_sunny</i>

<script src="../../../src/js/insurance/toTopBtn.js"></script>
</body>
</html>