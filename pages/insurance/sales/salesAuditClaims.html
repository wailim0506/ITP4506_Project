<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Legend Motor Limited - Auditing</title>
  <script src="../../../src/js/common/jslib/jquery-1.11.1.js"></script>
  <script src="../../../src/js/insurance/darkMode.js"></script>
  <!-- Google Material Icons -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <script type="text/javascript" language="JavaScript">
    $(document).ready(function () {
      <!-- Redirect to other page -->
      $("#exitBtn").click(function () {
        if (confirm("Are you sure you want to exit?")) {
          window.location.href = "salesClaims.html";
        }
      });
      <!-- Redirect to other page -->

      $('#accImg').click(function() {
        openAlertModal('Accident Image',
                '<img id="alertImg" src="../../../src/img/insurance/IMG_0023.jpg" alt="Car Image">');
      });

      $('#resultImg').click(function() {
        openAlertModal('Result copy',
                '<img id="alertImg" src="../../../src/img/insurance/IMG_0024.jpg" alt="Car Image">');
      });

      $('#partiesImg').click(function() {
        openAlertModal('Parties\' licences',
                '<img id="alertImg" src="../../../src/img/insurance/IMG_0025.jpg" alt="Car Image">');
      });

      $('#estimateImg').click(function() {
        openAlertModal('Estimate result',
                '<img id="alertImg" src="../../../src/img/insurance/IMG_0026.jpg" alt="Car Image">');
      });

      $('#carImg').click(function() {
        openAlertModal('Car Image',
                '<img id="alertImg" src="../../../src/img/insurance/IMG_0020.png" alt="Car Image">');
      });

      $('#nextBtn').click(function() {
        if (process()) {
          window.location.href = 'salesMain.html';
        }
      });

      //-------For checking-------
      // Initialize view and checked flags for each section
      let view = 0;
      const checkedFlags = {
        section1: false,
        section2: false,
        section3: false,
        section4: false,
        section5: false,
        section6: false,
        section7: false,
        section8: false
      };

      // Function to handle checkbox changes
      function handleCheckboxChange(section) {
        if (!checkedFlags[section] && $(`#${section}chk`).is(':checked')) {
          checkedFlags[section] = true;
        } else if (checkedFlags[section] && !$(`#${section}chk`).is(':checked')) {
        }

        $(`#${section}container`).css('background-color',
                $(`#${section}chk`).is(':checked') ? '#BEFFC6FF' : '#FF6767FF');
      }


      $('#section1chk').change(() => handleCheckboxChange('section1'));
      $('#section2chk').change(() => handleCheckboxChange('section2'));
      $('#section3chk').change(() => handleCheckboxChange('section3'));
      $('#section4chk').change(() => handleCheckboxChange('section4'));
      $('#section5chk').change(() => handleCheckboxChange('section5'));
      $('#section6chk').change(() => handleCheckboxChange('section6'));
      $('#section7chk').change(() => handleCheckboxChange('section7'));
      $('#section8chk').change(() => handleCheckboxChange('section8'));
      //-------For checking-------END


      //Check valid
      function process(){
        let isValid = true
        view = Object.values(checkedFlags).filter(value => value === true).length;

        if(view < 7){
          isValid = false;
          alert('You have not audit all the sections.');
        }else{
          alert('Process successful!');
        }
        return isValid;
      }

      // Function to open the alert
      function openAlertModal(title, message) {
        $('#modalTitle').html(title);
        $('#modalMessage').html(message);
        $('#alertModal').fadeIn();

        $('#alertButtonSend').off('click').on('click', function() {
          // Check if at least one checkbox is checked
          if ($('#alertButton input[type="checkbox"]:checked').length === 0) {
            alert('Please select at least one method (SMS or Email).');
            return;
          }

          $('#alertModal').fadeOut(); // Close the modal
          alert('Send successful!');
        });
      }

      // Close the alert
      $('.close').on('click', function() {
        $('#alertModal').fadeOut();
      });

      // Close the alert
      $(window).on('click', function(event) {
        if ($(event.target).is('#alertModal')) {
          $('#alertModal').fadeOut();
        }
      });
    });
  </script>
  <link rel="stylesheet" href="../../../src/css/insurance/sales/salesAuditApp.css">
</head>
<body>
<!--Alert-->
<div class="modal" id="alertModal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h2 id="modalTitle"></h2>
    <p id="modalMessage"></p>
  </div>
</div>
<!--Alert-->


<!-- To top button -->
<button class="goTopBtn">
  <img src="../../../src/img/insurance/IMG_0007.png" alt="BackToTop">
</button>
<!-- To top button -->


<!--Nav Bar-->
<nav>
  <div id="nav_left">
    <a href="salesMain.html"><img src="../../../src/img/LMLogo.webp" /></a>
  </div>
  <div id="nav_center">
    <a href="salesMain.html">Manage</a>
    <a href="salesClaims.html">Claims</a>
    <a href="salesPlan.html">Plans</a>
    <a href="salesApplication.html">Application</a>
    <a href="salesProfile.html">ProFile</a>
  </div>
  <div id="nav_right">
    <a href="../../../index.html">Logout</a>
  </div>
</nav>
<!--Nav Bar-->


<!--Main Content-->
<section id="mainContent">
  <div class="container">
    <div id="progress">
      <div class="arrowRow">
        <p class="inProgress">Under Review</p><span class="arrowInProgress">&#8680;</span>
        <p class="waiting">Approved</p><span class="arrowWaiting">&#8680;</span>
        <p class="waiting">Finish</p>
      </div>

      <div class="arrowRow">
        <span id="downArrow" class="arrowWaiting">&#8681;</span>
      </div>

      <div class="arrowRow">
        <p class="waiting">Rejected</p><span class="arrowWaiting">&#8680;</span>
        <p class="waiting">Edit</p><span class="arrowWaiting">&#8680;</span>
        <p class="waiting">Resubmit</p>
      </div>
    </div>
  </div>

  <div class="container">
    <div id="form">
      <form  id="contactForm">
        <p class="formClass">Auditing - LMIS202122</p>
        <p class="formClass">Customer ID - LMC01901</p>

        <hr>

        <div id="section1container">
          <div class="selectSection">
            <p class="subTitle">Basic Information:</p>
            <label><input type="checkbox" id="section1chk">  Pass</label>
          </div>

          <div class="infoRow">
            <label>Car Name:<a>Toyota 7312</a></label>
            <label>Car Model:<a>Toyota Corolla</a></label>
            <label>Car Type:<a>HatchBack</a></label>
          </div>

          <div class="infoRow">
            <label>Insurance Number:<a>LMIS123456</a></label>
          </div>

        </div>

        <div id="section2container">
          <div class="selectSection">
            <p class="subTitle">Current Status :</p>
            <label><input type="checkbox" id="section2chk">  Pass</label>
          </div>
          <div class="infoRow">
            <label id="long">Have you applied for a loan for your insured car? :<a>No</a></label>
          </div>
        </div>


        <div id="section3container">
          <div class="selectSection">
            <p class="subTitle">Driver Information:</p>
            <label><input type="checkbox" id="section3chk">  Pass</label>
          </div>
          <div class="infoRow">
            <label>Date of Birth:<a>1989/04/13</a></label>
            <label>Profession:<a>Teacher</a></label>
            <label>Marital Status:<a>Married</a></label>
          </div>
          <div class="infoRow">
            <label>Gender:<a>Male</a></label>
            <label>Driving Experience:<a>12</a></label>
            <label>License Number:<a>1234567</a></label>
          </div>
        </div>
        <hr>

        <div id="section4container">
          <div class="selectSection">
            <p class="subTitle">Accident Information:</p>
            <label><input type="checkbox" id="section4chk">  Pass</label>
          </div>
          <div class="infoRow">
            <label>Date:<a>2024-10-19</a></label>
            <label>Time:<a>13:20</a></label>
            <label>Location:<a>abc building road</a></label>
          </div>
          <div class="infoRow">
            <label>Description:<a>Collision with another vehicle</a></label>
          </div>
        </div>

        <div id="section5container">
          <div class="selectSection">
            <p class="subTitle">Traffic police handling results:</p>
            <label><input type="checkbox" id="section5chk">  Pass</label>
          </div>
          <div class="infoRow">
            <label>Process Number:<a>123345678</a></label>
            <label>Date:<a>2024-10-19</a></label>
            <label>Time:<a>15:14</a></label>
          </div>
          <div class="infoRow">
            <label>Handling opinions:<a>Equal responsibility of both parties</a></label>
          </div>
        </div>

        <hr>

        <div id="section6container">
          <div class="selectSection">
            <p class="subTitle">Information of the parties involved:</p>
            <label><input type="checkbox" id="section6chk">  Pass</label>
          </div>
          <div class="infoRow">
            <label>Parties Name:<a>Chan Peter</a></label>
            <label>Parties' Phone:<a>12345678</a></label>
            <label>Parties' license No:<a>ITV1623481</a></label>
          </div>
          <div class="infoRow">
            <label>Car Name:<a>BMW type C</a></label>
            <label>Car Model:<a>BMW</a></label>
            <label>Car Type:<a>HatchBack</a></label>
          </div>
        </div>

        <div id="section7container">
          <div class="selectSection">
            <p class="subTitle">Repair Estimate:</p>
            <label><input type="checkbox" id="section7chk">  Pass</label>
          </div>
          <div class="infoRow">
            <label>Maintenance Party:<a>Toyota</a></label>
            <label>Price:<a>14,500</a></label>
          </div>
        </div>

        <hr>

        <div id="section8container">
          <div class="selectSection">
            <p class="subTitle">File Uploaded:</p>
            <label><input type="checkbox" id="section8chk">  Pass</label>
          </div>
          <div class="infoRow">
            <label>Accident Image:<a id="accImg">IMG_0023</a></label>
          </div>
          <div class="infoRow">
            <label>Result copy:<a id="resultImg">IMG_0024</a></label>
          </div>
          <div class="infoRow">
            <label>Parties' licences:<a id="partiesImg">IMG_0025</a></label>
          </div>
          <div class="infoRow">
            <label>Estimate result:<a id="estimateImg">IMG_0026</a></label>
          </div>
        </div>


        <hr>

        <p class="subTitle">Comment:</p>
        <div class="infoRow">
          <textarea id="comment" name="comment" rows="4" cols="50"></textarea>
        </div>

        <div class="contactRow">
          <p><b>Contact Method:</b></p>
          <label><input type="checkbox">SMS</label>
          <label><input type="checkbox">Email</label>
        </div>
      </form>
    </div>
  </div>

  <div class="containerRow">
    <div id="previousBtnContainer">
      <button type="button" id="exitBtn">Exit</button>
    </div>
    <div id="nextBtnContainer">
      <button type="button" id="nextBtn">Process</button>
    </div>
  </div>
</section>
<!--Main Content-->


<!--footer-->
<section class="footer">
  <div class="footer-content">
    <a href="salesMain.html"><img src="../../../src/img/LMLogo.webp" class="footer-logo"></a>
    <p>Reliable car insurance for peace of mind on every journey.</p>
    <p>© 2024 Legend Motor Limited</p>
  </div>
  <div class="footer-content">
    <a href="salesMain.html"><h4>Manage</h4></a>
  </div>
  <div class="footer-content">
    <a href="salesClaims.html"><h4>Claims</h4></a>
  </div>
  <div class="footer-content">
    <a href="salesPlan.html"><h4>Plans</h4></a>
  </div>
  <div class="footer-content">
    <a href="salesApplication.html"><h4>Application</h4></a>
  </div>
  <div class="footer-content">
    <a href="salesProfile.html"><h4>ProFile</h4></a>
  </div>
</section>
<!--footer-->


<script src="../../../src/js/insurance/toTopBtn.js"></script>
</body>
</html>